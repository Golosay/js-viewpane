var Viewpane=function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="/dist",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";var n=i(2),o=i(14),s=i(6),r=i(3),a=i(13);n.Entity=o,n.Loop=s,n.Vector=r,n.FOCUS_TYPE=a,t.exports=n},function(t,e,i){"use strict";function n(t){return t&&"[object String]"===Object.prototype.toString.call(t)?document.getElementById(t):t&&t.tagName?t:null}function o(t,e,i){h.call(this,["onClick"]),t=n(t),e=n(e);var o=this,p=new a(e),l=e.getBoundingClientRect(),f=i.focus||u.create(l.width,l.height,0);this.scene=new r(t,f,i),this.viewpane=p,this.scene.addEntity(p),this.speedSnap=new c(this.scene,i);var y,d=0,m=u.create(),v=u.create(),g=u.create();new s(t,{onStart:function(t){g.set(t),g.z=o.scene.camera.getPosition().z,o.userInputStart(),d=0,v.set(g),y=Date.now()},onScale:function(t,e){g.set(e),g.z=o.scene.camera.getPosition().z,t.z=o.scene.convertZScaleToPosition(t.z),o.moveBy(t,g),d+=1,m.set(v),v.set(g)},onEnd:function(){if(d>1){if(m.subtract(v),m.z=0,m.getLength()>5)return o.userInputStop(g,m)}else{var t=o.scene.getPosition(),e=g.clone();e.z=0,e.invertProject(o.scene.camera.eye,g.z),e.subtract(t),e.z=0,o.notify("select",e)}o.userInputStop(g,u.origin)}})}var s=i(4),r=i(12),a=i(14),u=i(3),c=i(15),h=i(10);o.prototype.userInputStart=function(){this.speedSnap.stop(),this.scene.activate()},o.prototype.userInputStop=function(t,e){this.scene.deactivate(),this.speedSnap.from.set(this.scene.getPosition()),this.speedSnap.start(e,t)},o.prototype.repaint=function(){this.scene.calculate(),this.scene.render()},o.prototype.moveBy=function(t,e){this.scene.moveVisual(t,e)},o.prototype.addEntity=function(t){this.scene.addEntity(t)},o.prototype.createEntity=function(t){var e=new a(n(t));return this.addEntity(e),e},o.prototype.setPosition=function(t){this.scene.setPosition(t)},o.prototype.getPosition=function(t){this.scene.setPosition(t)},o.prototype.getScene=function(){return this.scene},o.prototype.getViewpane=function(){return this.viewpane},t.exports=o},function(t){"use strict";function e(t,e,i){return 0===o.length?new n(t,e,i):o.pop().setValues(t||0,e||0,i||0)}function i(t){o.push(t)}function n(t,e,i){this.setValues(t||0,e||0,i||0)}var o=[],s={x:0,y:0,z:0};n.prototype.setValues=function(t,e,i){return this.x=t,this.y=e,this.z=i,this},n.prototype.reset=function(){return this.setValues(0,0,0),this},n.prototype.dispose=function(){o.push(this)},n.prototype.clone=function(){return e(this.x,this.y,this.z)},n.prototype.set=function(t){return this.setValues(t.x,t.y,t.z)},n.prototype.setDelta=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},n.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},n.prototype.negate=function(){return this.multiplyScalar(-1)},n.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},n.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},n.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},n.prototype.normalize=function(){var t=this.getLength();return this.multiplyScalar(1/t)},n.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.prototype.zoomAt=function(t,e,i){var n=i/t.z;return this.x+=(t.x-e.x)*n,this.y+=(t.y-e.y)*n,this.z+=i,this},n.prototype.zoomAtAndMoveVisual=function(t,e,i){var n=i.z/t.z;return this.x+=(t.x-e.x)*n,this.y+=(t.y-e.y)*n,this.z+=i.z,n=this.z/t.z,this.x+=i.x*(1-n),this.y+=i.y*(1-n),this},n.prototype.scaleByZ=function(t,e){var i=t.z/(t.z-e);this.x*=i,this.y*=i,this.z=e},n.prototype.project=function(t){var e=t.z/(this.z-t.z);return this.x=t.x-(this.x-t.x)*e,this.y=t.y-(this.y-t.y)*e,this.z=0,this},n.prototype.invertProject=function(t,e){return this.z=0,this.zoomAt(t,this,e)},n.prototype.moveVisual=function(t,e){var i=this.z/t.z;return this.x+=e.x*(1-i),this.y+=e.y*(1-i),this},n.prototype.toTranslate=function(t){return t=t||s,"translate3d("+(this.x+t.x)+"px, "+(this.y+t.y)+"px, "+(this.z+t.z)+"px)"},n.prototype.toRotate=function(){return"rotateX("+this.x+"deg) rotateY("+this.y+"deg) rotateZ("+this.z+"deg)"},n.prototype.toString=function(){return"["+this.x+", "+this.y+", "+this.z+"]"},t.exports={create:e,dispose:i,origin:new n}},function(t,e,i){"use strict";function n(t,e){var i=this;this.$element=t,this.elementBound={},this.updateElementBound(),r.addObserver("end",function(){i.updateElementBound()}),this.onStart=e.onStart||Function.prototype,this.onScale=e.onScale||Function.prototype,this.onEnd=e.onEnd||Function.prototype,o(t,this.elementBound,this.onStart,this.onScale,this.onEnd),s(t,this.elementBound,this.onStart,this.onScale,this.onEnd)}var o=i(5),s=i(7),r=i(9);n.prototype.updateElementBound=function(){var t=this.$element.getBoundingClientRect();this.elementBound.top=t.top+(document.documentElement.scrollTop||document.body.scrollTop),this.elementBound.left=t.left+(document.documentElement.scrollLeft||document.body.scrollLeft),this.elementBound.width=t.width,this.elementBound.height=t.height},t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n){return t.x=.5*(n.pageX-i.pageX)+i.pageX-e.left,t.y=.5*(n.pageY-i.pageY)+i.pageY-e.top,t.z=0,t}function o(t,e){var i=e.pageX-t.pageX,n=e.pageY-t.pageY;return Math.sqrt(i*i+n*n)}function s(t,e,i,s,u){function c(t){g=0,x=0,d.setValues(t.pageX-e.left,t.pageY-e.top,0),m.set(d)}function h(t,i){g=o(t,i),d=n(d,e,t,i),m.set(d)}function p(t){t.preventDefault(),E=!1,y=t.touches.length,1===t.touches.length?c(t.touches[0]):h(t.touches[0],t.touches[1]),z.start(),i(d)}function l(t){if(0!==y){if(1===t.touches.length)return c(t.touches[0]),void i(d);E=!1,y=0,z.stop(),u()}}function f(){E=!0}var y=0,d=r.create(),m=r.create(),v=r.create(),g=0,x=0,z={currentEvent:null,start:function(){this.loopState=a.CONTINUE,a.add(this)},stop:function(){this.loopState=a.EXIT},calculate:function(){var t=this.currentEvent;if(null!=t)return x=g,m.set(d),t.touches.length>1?(g=o(t.touches[0],t.touches[1]),d=n(d,e,t.touches[0],t.touches[1]),v.setDelta(d,m),v.z=0===x?1:g/x):(d.setValues(t.touches[0].pageX-e.left,t.touches[0].pageY-e.top,0),v.setDelta(d,m),v.z=1),this.currentEvent=null,s(v,d),this.loopState},render:Function.prototype},E=!1;t.addEventListener("touchstart",function(t){t.touches.length>2||(1===t.touches.length&&0===y?f(t):p(t))}),t.addEventListener("touchmove",function(t){(0!==y||E!==!1)&&(E===!0&&p(t),t.preventDefault(),t.stopPropagation(),z.currentEvent=t)}),t.addEventListener("touchend",l),document.body.addEventListener("touchend",l)}var r=i(3),a=i(6);t.exports=s},function(t){"use strict";function e(){var t=n.animations;t.length=0,n.animations=n.nextAnimations,n.nextAnimations=t}var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,20)},n={EXIT:!0,CONTINUE:!1,ENABLED:!1,animations:[],nextAnimations:[],add:function(t){(t.calculate||t.render)&&(n.animations.push(t),n.start())},start:function(){n.ENABLED===!1&&(n.ENABLED=!0,n.tick())},tick:function(){var t,o=Date.now();for(t=0;t<n.animations.length;t+=1)n.animations[t].calculate(o)!==n.EXIT&&n.nextAnimations.push(n.animations[t]);for(e(),t=0;t<n.animations.length;t+=1)n.animations[t].render(o)!==n.EXIT&&n.nextAnimations.push(n.animations[t]);e(),n.animations.length>0?i(n.tick):n.ENABLED=!1}};t.exports=n},function(t,e,i){"use strict";function n(t,e,i,n,u){var c=!1,h=s.create(),p=s.create(),l=s.create();t.addEventListener("mousedown",function(t){if(c!==!0){var n=t.pageX-e.left,o=t.pageY-e.top;c=!0,t.preventDefault(),p.setValues(n,o,p.z),i(p)}}),t.addEventListener("mousemove",function(t){if(c!==!1){var i=t.pageX-e.left,o=t.pageY-e.top;t.preventDefault(),t.stopPropagation(),h.set(p),p.setValues(i,o,p.z),l.setDelta(p,h),l.z=1,n(l,p)}}),t.addEventListener("mouseup",function(){c!==!1&&(c=!1,u())});var f=new o(function(){c!==!1&&(c=!1,u())},a);t.addEventListener("mousewheel",function(t){t.preventDefault();var o=t.pageX-e.left,s=t.pageY-e.top,a=t.wheelDelta;c===!1?(c=!0,f.start(),p.set(o,s,a),i(p)):(f.keepAlive(),h.set(p),p.set(o,s,p.z+a),l.setDelta(p,h),l.z=1+l.z/r,n(l,p))}),t.addEventListener("wheel",function(t){t.preventDefault();var o=t.pageX-e.left,s=t.pageY-e.top,a=t.deltaY;c===!1?(c=!0,f.start(),p.setValues(o,s,a),i(p)):(f.keepAlive(),h.set(p),p.setValues(o,s,p.z+a),l.setDelta(p,h),l.z=1+l.z/r,n(l,p))}),document.body.addEventListener("mousemove",function(){c!==!1&&(c=!1,u())})}var o=i(8),s=i(3),r=1e3,a=50;t.exports=n},function(t,e,i){"use strict";function n(t,e){this.STATE=o.EXIT,this.ttl=e,this.sendTimeout=t||Function.prototype}var o=i(6);window.Timeout=n,n.prototype.start=function(){return this.keepAlive(),this.isActive()===!1&&(this.STATE=o.CONTINUE,o.add(this)),this},n.prototype.isActive=function(){return this.STATE===o.CONTINUE},n.prototype.getTime=function(){return this.lastUpdate},n.prototype.calculate=function(t){return this.time=t-this.lastUpdate,this.time>this.ttl&&(this.sendTimeout(t,t-this.lastUpdate),this.STATE=o.EXIT),this.STATE},n.prototype.render=Function.prototype,n.prototype.keepAlive=function(){return this.lastUpdate=Date.now(),this.lastUpdate},t.exports=n},function(t,e,i){"use strict";var n=i(10),o=i(11),s=n.call({viewportSize:{x:0,y:0},updateViewportSize:function(){return this.viewportSize.x=Math.max(document.documentElement.clientWidth,window.innerWidth||0),this.viewportSize.y=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.viewportSize},getViewportSize:function(){return this.viewportSize}});window.addEventListener("resize",o({timeout:500,debounce:250,start:function(){s.notify("start",s.updateViewportSize())},update:function(){s.notify("update",s.updateViewportSize())},end:function(){s.notify("end",s.updateViewportSize())}})),window.addEventListener("orientationchange",function(){var t=s.updateViewportSize();setTimeout(function(){s.notify("start",t),setTimeout(function(){s.notify("end",t)},1)},100)}),s.updateViewportSize(),t.exports=s},function(t){"use strict";function e(){return this.addObserver=i,this.removeObserver=n,this.notify=o,this.__observables={},this}function i(t,e){this.__observables[t]=this.__observables[t]||[];var i=this.__observables[t];i.indexOf(e)<0&&i.push(e)}function n(t,e){if(null!=this.__observables[t]){var i=this.__observables[t].indexOf(e);i>=0&&this.__observables[t].splice(i,1)}}function o(t){var e=this.__observables[t];if(null!=e&&0!==e.length)for(var i=Array.prototype.slice.call(arguments,1),n=0,o=e.length;o>n;n+=1)e[n].apply(null,i)}t.exports=e},function(t,e,i){"use strict";function n(t){t.timeout=t.timeout||500,t.debounce=t.debounce||250,t.start=t.start||Function.prototype,t.update=t.update||Function.prototype,t.end=t.end||Function.prototype;var e=!1,i=null,n=0,s=new o(function(){e=!1,t.end(i),i=null},t.timeout);return function(o){if(i=o,e===!1)return e=!0,t.start(i),s.start();var r=s.keepAlive();n+t.debounce<r&&(n=r,t.update(i))}}var o=i(8);t.exports=n},function(t,e,i){"use strict";function n(t,e,i){var n=this,o=new s(t,e,i);this.camera=o,this.entities=[],r.addObserver("end",function(){o.update(),n.moveToFocus(o.position),n.calculate(),n.render()})}var o=i(6),s=i(13),r=i(9),a=i(3);n.prototype.activate=function(){this.loopState=o.CONTINUE,o.add(this)},n.prototype.deactivate=function(){this.loopState=o.EXIT},n.prototype.convertZScaleToPosition=function(t){return this.camera.getZTranslationOfScale(t)},n.prototype.addEntity=function(t){this.entities.push(t)},n.prototype.convertToWorldTranslation=function(t,e,i){var n=this.camera.getPosition();return t.set(n),t.zoomAtAndMoveVisual(this.camera.eye,i,e),t.subtract(n),t},n.prototype.getRubberband=function(t){var e=this.camera.getRestrictToFocusZ(),i=this.camera.getRestrictToFocusXY();return t.x=i.left+i.right,t.y=i.top+i.bottom,t.z=e-this.camera.getPosition().z,t},n.prototype.moveToFocus=function(t){var e=this.camera.getPosition(),i=this.camera.getRestrictToFocusZ();this.camera.zoomAt(t,i-e.z);var n=this.camera.getRestrictToFocusXY();e.setValues(e.x+n.right+n.left,e.y+n.top+n.bottom,e.z)},n.prototype.setPosition=function(t){this.camera.setPosition(t)},n.prototype.getPosition=function(){return this.camera.getPosition()},n.prototype.move=function(t){return this.camera.getPosition().add(t)},n.prototype.moveVisual=function(t,e,i){i=i||.3;var n=a.create();this.convertToWorldTranslation(n,t,e);var o=this.camera.getPosition(),s=Math.abs(t.z)>Math.abs(t.x)+Math.abs(t.y),r=n.z<0,u=n.z>0,c=this.camera.getRestrictToFocusZ(n),h=c-this.camera.getPosition().z-n.z;if((0>h&&u||h>0&&r)&&o.zoomAt(this.camera.eye,e,-n.z*(1-i)),s===!1){var p=this.camera.getRestrictToFocusXY();p.left+p.right!==0&&(n.x*=i),p.top+p.bottom!==0&&(n.y*=i)}o.add(n),n.dispose()},n.prototype.calculate=function(){for(var t=this.entities,e=this.camera.getPosition(),i=0,n=t.length;n>i;i+=1)t[i].calculate(e);return o.CONTINUE},n.prototype.render=function(){for(var t=this.entities,e=this.camera.getPosition(),i=0,n=t.length;n>i;i+=1)t[i].render(e);return this.loopState},t.exports=n},function(t,e,i){"use strict";function n(t,e,i){i.typeOfFocus=i.typeOfFocus||a.LARGEST,i.perspective=null==i.perspective?1e3:i.perspective,i.origin=i.origin||{x:.5,y:.5},this.options=i,this.$screen=t,this.typeOfFocus=i.typeOfFocus,this.adjustFocusBy=!1,this.focusPlane=e,this.eye=r.create(),this.position=r.create(),this.screenHalfDimensions=r.create(),this.xyCorrection=new s,this.maxZ=r.create(),this.minZ=r.create(),this.update()}function o(t,e,i){return t.z-t.z*(e/i)}function s(){this.toString=function(){return"("+this.left+","+this.top+","+this.right+","+this.bottom+")"},this.reset=function(){return this.left=this.right=this.top=this.bottom=0,this},this.reset()}var r=i(3),a={LARGEST:"fitLargestDimension",BOTH:"fitBothDimensions"};n.FOCUS_TYPE=a,n.prototype.update=function(){var t=this.$screen.getBoundingClientRect();if(this.screenHalfDimensions.x=.5*t.width,this.screenHalfDimensions.y=.5*t.height,this.adjustFocusBy=!1,this.typeOfFocus===a.LARGEST){var e=this.focusPlane.x/t.width,i=this.focusPlane.y/t.height;this.adjustFocusBy=e>i?"x":"y"}this.eye.setValues(t.width*this.options.origin.x,t.height*this.options.origin.y,this.options.perspective),this.maxZ.setValues(.25*this.eye.z,.25*this.eye.z,0),this.minZ.setValues(o(this.eye,this.focusPlane.x,t.width),o(this.eye,this.focusPlane.y,t.height),0),this.$screen.style.webkitPerspective=this.eye.z+"px",this.$screen.style.perspective=this.eye.z+"px",this.$screen.style.webkitPerspectiveOrigin=this.eye.x+"px "+this.eye.y+"px",this.$screen.style.perspectiveOrigin=this.eye.x+"px "+this.eye.y+"px"},n.prototype.getZTranslationOfScale=function(t){return 1===t?0:this.position.z-(this.eye.z-t*(this.eye.z-this.position.z))},n.prototype.getRestrictToFocusZ=function(t){t=t||r.origin;var e=this.position.z+t.z,i=e<this.minZ.x,n=e<this.minZ.y;return this.typeOfFocus===a.BOTH&&(i||n)?Math.max(this.minZ.x,this.minZ.y):this.typeOfFocus===a.LARGEST&&i&&n?Math.min(this.minZ.x,this.minZ.y):e>this.maxZ.x||e>this.maxZ.y?Math.min(this.maxZ.x,this.maxZ.y):e},n.prototype.getRestrictToFocusXY=function(t){t=t||r.origin;var e=this.xyCorrection.reset(),i=(this.eye.z-this.position.z)/(this.eye.z-0),n=this.screenHalfDimensions.x*i,o=this.screenHalfDimensions.y*i,s=.5*this.focusPlane.x,a=.5*this.focusPlane.y,u=Math.abs(n-s),c=Math.abs(o-a),h=this.position.z/this.eye.z,p=this.screenHalfDimensions.x+(this.eye.x-this.screenHalfDimensions.x)*h,l=this.screenHalfDimensions.y+(this.eye.y-this.screenHalfDimensions.y)*h,f=p-(this.position.x+t.x+s),y=l-(this.position.y+t.y+a);return n-s>0?e.left=f:Math.abs(f)-u>0&&(e.left=Math.min(0,f+u),e.right=Math.max(0,f-u)),o-a>0?e.top=y:Math.abs(y)-c>0&&(e.top=Math.min(0,y+c),e.bottom=Math.max(0,y-c)),e},n.prototype.moveVisual=function(t){this.position.moveVisual(this.eye,t)},n.prototype.getPosition=function(){return this.position},n.prototype.setPosition=function(t){return this.position.set(t)},n.prototype.zoomAt=function(t,e){this.position.zoomAt(this.eye,t,e)},t.exports=n},function(t,e,i){"use strict";function n(t){this.element=t,this.style=t.style,this.position=o.create(),this.rotation=o.create()}var o=i(3);n.prototype.getPosition=function(){return this.position},n.prototype.setPosition=function(t){return this.position.set(t)},n.prototype.getRotation=function(){return this.rotation},n.prototype.setRotation=function(t){return this.rotation.set(t)},n.prototype.calculate=function(t){this.transform=this.position.toTranslate(t)+" "+this.rotation.toRotate()},n.prototype.render=function(){var t=this.transform;this.style.webkitTransform=t,this.style.mozTransform=t,this.style.transform=t},n.prototype.add=function(t){this.position.add(t)},t.exports=n},function(t,e,i){"use strict";function n(t,e){this.scene=t,this.friction=e.friction||r,this.from=o.create(),this.work=o.create(),this.speedVector=o.create(),this.rubberband=o.create()}var o=i(3),s=i(6),r=.95,a=20;n.prototype.start=function(t,e,i){this.cb=i||Function.prototype,this.scene.convertToWorldTranslation(this.speedVector,t,e);var n=this.speedVector.getLength(),o=a*(-Math.log(n)/Math.log(r));this.startTime=Date.now(),this.duration=Math.max(400,o),this.loopState=s.CONTINUE,s.add(this)},n.prototype.stop=function(){this.loopState=s.EXIT},n.prototype.calculate=function(t){var e=this.speedVector,i=Math.min(1,(t-this.startTime)/this.duration),n=this.scene.getRubberband(this.rubberband);return n.multiplyScalar(i),e.multiplyScalar(r),n.x&&(e.x*=i),n.y&&(e.y*=i),i>=1?(this.scene.move(n),this.stop()):(this.work.set(n).subtract(e),this.scene.move(this.work)),this.scene.calculate(),s.CONTINUE},n.prototype.render=function(){return this.scene.render(),this.loopState===s.EXIT&&this.cb(),this.loopState},t.exports=n}]);